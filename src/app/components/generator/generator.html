<div class="container">
  <div class="controls">
    <div class="form-group">
      <label for="projectCode">Project Code:</label>
      <input 
        id="projectCode" 
        type="text" 
        [(ngModel)]="projectCode" 
        class="form-control"
        placeholder="Enter project code">
    </div>

    <div class="form-group">
      <label for="releaseVersion">Release Version:</label>
      <input 
        id="releaseVersion" 
        type="text" 
        [(ngModel)]="releaseVersion" 
        class="form-control"
        placeholder="Enter release version">
    </div>

    <div class="form-group">
      <label for="releaseType">Release Type:</label>
      <select 
        id="releaseType" 
        [(ngModel)]="selectedReleaseType" 
        (change)="onReleaseTypeChange()"
        class="form-control">
        <option *ngFor="let type of releaseTypes" [value]="type.name">
          {{ type.name }}
        </option>
      </select>
    </div>

    <div class="form-group checkbox-group">
      <label class="checkbox-label">
        <input 
          type="checkbox" 
          [(ngModel)]="showAllDocuments" 
          (change)="onShowAllChange()"
          class="checkbox-input">
        Show all documents (including disabled)
      </label>
    </div>

    <button class="btn-generate" (click)="generateReport()">
      üìÑ Generate Requirements Report
    </button>
  </div>

  <div class="documents-table">
    <h2>Documentation Requirements for {{ selectedReleaseType }}</h2>
    <p class="document-count">
      Showing {{ filteredDocuments.length }} of {{ allDocuments.length }} documents
      <span *ngIf="!showAllDocuments" class="filter-note">(disabled documents are hidden)</span>
    </p>
    
    <table class="requirements-table">
      <thead>
        <tr>
          <th>Document Name</th>
          <th>Action Required</th>
          <th>Up-version</th>
          <th>Document ID</th>
          <th>History Update</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let doc of filteredDocuments" [class.disabled]="!doc.enabled">
          <td class="doc-name">{{ doc.documentName }}</td>
          <td class="action-description">{{ getActionDescription(doc) }}</td>
          <td>{{ doc.docUpVersion }}</td>
          <td>{{ doc.docId }}</td>
          <td>{{ doc.docHistory }}</td>
        </tr>
      </tbody>
    </table>

    <div *ngIf="filteredDocuments.length === 0" class="no-documents">
      <p>No documents required for this release type.</p>
      <p><a routerLink="/config" class="config-link">Configure documents in settings</a></p>
    </div>
  </div>

  <div class="summary">
    <h3>Summary for {{ selectedReleaseType }}</h3>
    <p>Total documents to process: {{ totalDocumentsToProcess }}</p>
    <p>New documents: {{ newDocumentsCount }}</p>
    <p>Documents to up-version: {{ upVersionDocumentsCount }}</p>
    <p>Disabled documents: {{ notApplicableCount }}</p>
    
    <div class="config-prompt">
      <p>Need to customize which documents are required?</p>
      <a routerLink="/config" class="btn-config">‚öôÔ∏è Configure Documents</a>
    </div>
  </div>
</div>